<section fxLayout="row wrap" fxLayoutAlign="center center">
  <mat-card fxFlex="500px" fxFlex.xs="100%">
    <mat-card-title>Register</mat-card-title>
    <form [formGroup]="form" autocomplete="off" novalidate 
      (ngSubmit)="submitHandler()" fxLayout="column wrap" fxLayoutAlign="center center" fxLayoutGap="10px">

  <mat-card-content>
      <!-- username -->
      <mat-form-field>
        <input matInput type="text" name="username" placeholder="Username"
           id="username" formControlName="username">
        <mat-hint align="end">At least 5 characters</mat-hint>
      <mat-error *ngIf="form.get('username').touched && form.get('username').errors?.required">
          Username is required!
      </mat-error>
      <mat-error *ngIf="form.get('username').touched && form.get('username').errors?.minLength">
        Username must be at least 5 characters!</mat-error>
      </mat-form-field>

      <!-- email -->
      <mat-form-field>
        <input matInput type="email" name="email" id="email" 
        [class.input-error]="form.get('email').touched && !!form.get('email').errors"
        formControlName="email" placeholder="Email">
        <mat-error *ngIf="form.get('email').touched && form.get('email').errors?.required">
          Email is required!
        </mat-error>
        <mat-error *ngIf="form.get('email').touched && form.get('email').errors?.emailValidator">
          Email is not valid!</mat-error>
      </mat-form-field>

      <!-- password -->
      <mat-form-field>
        <input matInput [class.input-error]="form.get('password').touched && !!form.get('password').errors" type="password"
          name="password" id="password" placeholder="******" formControlName="password">
        <mat-error *ngIf="form.get('password').touched && form.get('password').errors?.required">
        Password is required!
        </mat-error>
        <mat-error *ngIf="form.get('password').touched && form.get('password').errors?.minlength">
        Password must be at least 5 characters!</mat-error>
      </mat-form-field>

      <!-- rePassword -->
      <mat-form-field>
        <input matInput [class.input-error]="form.get('rePassword').touched && !!form.get('rePassword').errors" 
          type="password" name="rePassword" 
          formControlName="rePassword" id="rePassword" placeholder="******">
        <mat-error *ngIf="form.get('rePassword').touched && form.get('rePassword').errors?.rePasswordValidator">Repeat Password does not match password!</mat-error>
        <mat-error *ngIf="form.get('rePassword').touched && form.get('rePassword').errors?.required">Repeat Password is required!</mat-error>
      </mat-form-field>

    </mat-card-content>
    <mat-card-actions align="center">
      <button mat-raised-button color="primary" [disabled]="isLoading || form.invalid">Create Account</button>
      <!-- <app-loader [isLoading]="isLoading"></app-loader> -->
      <button type="button" mat-raised-button color="warn" (click)="onCancel()">Cancel</button>
      <p class="text-center">
          Have an account?
          <a routerLink="/user/login">Log In</a>
      </p>
    </mat-card-actions>
</form>
</mat-card>
</section>

